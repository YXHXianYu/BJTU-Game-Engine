# 第一次大作业说明文档

## 1. 安装环境

* 略，好像大家都装完了

## 2. 代码结构说明

* 程序入口位于 `engine/source/runtime/main.cpp`
* 如果添加一个新的模型？
  1. 在 `engine/asset/models/` 下放置对应模型文件
  2. 在 `...runtime/function/render/render_resource.cpp` 的 `initialize()` 中，加载对应模型文件至 m_render_entities['....']
     * 其中，....为自定义名称
  3. 在 `...runtime/function/render/render_pipeline.cpp` 的 `draw()` 中，绘制对应模型文件
  4. 搞定，巨简单好吧。
* 如何对一个模型应用变换？
  * 在加载的 `initialize()` 或 `draw()` 中，使用 m_render_entities[".."].setModelMatrix() 函数操作该渲染实体（模型）的model matrix
  * 我们使用 glm 库来表示矩阵，所以变换也可以用类似的方法实现。

## 3. 如何提交代码

* 请在主分支上fork出一条新分支，命名为：`assignment-xxx`，xxx为你的id或者其他标识符
  * 如果你在完成作业的话可以这么写
  * 如果你在给bjtuge添加新功能的话，推荐命名为 `dev-yyy`，yyy表示新功能名称
* 代码确定可以运行后，请直接先pull主分支，再提交PR，并合并至主分支。

## 4. 作业推荐内容

* 因为第一次大作业有作业要求，而完成作业要求是最基本的。
* 所以我们这里对作业内容进行一个分配，大家写完后觉得有兴趣可以自己玩。

### 4.1 DRJ

* 二维图形绘制（导入一个二维图形）
* 二维变换，包括缩放、反射、切变、旋转、平移；
* 二维组合变换
* 总结：最终展示7个二维图形，分别表示原始图形、五种变换后的图形、组合变换后的图形（可多个）
  * 自己找个合适的坐标放就行

### 4.2 FJQ、CJX

* 三维模型绘制（导入一个三维模型）
* 三维变换，包括缩放、平移、绕 x/y/z 轴旋转；
* 三维组合变换
* 总结：最终展示7个三维模型，分别表示原始图形、五种变换后的图形、组合变换后的模型（可多个）
  * 自己找个合适的坐标放就行
* 注：三维模型2人总共做14个。三维比二维简单，因为已经有很多的类似代码了。

### 4.3 XYH

* 添加键盘对场景的控制
  * 比如按 `J` 键，可以取消渲染所有MC方块
    * 具体思路
      * 在 `input_system`中监听对应按键
      * 在 `render_pipeline` 中设置对应状态
      * 在 `render_pipeline` 中监听 `input_system` 的状态（应该要独立出一个 tick() 函数，参考其他系统）
      * 在 `render_pipeline` 的 `draw()` 中，给每个渲染部分加个 `if`
  * 尽可能维持低耦合和可拓展性，后续便于进一步开发
    * 比如按某个键，直接按深度渲染整个场景，超酷的
* 在透视投影和正交投影中切换
  * 同样需要在 `input_system` 中监听某个按键
  * 透视投影和正交投影的切换在 `render_camera` 中可以设置。这里可以在 `render_camera` 中监听 `input_system` ，并且抽象出一个 getProjectionMatrix 函数。
* 轮子都写好了，主要是使用已有的轮子。主要的难度应该在读源码

### 4.4 ALL

* 每个人都要写 实验总结与感想，老师要求
* 如果有遇到一些有意思的问题，记得说。实验报告里还需要写 **实验中遇到的问题**

## 5. DDL

* 7月14日晚，我7月15日会看，并且进行整理